<div class="scene col-md-5 column nopadding" style="padding-left:10px" ng-controller="SceneCtrl"
     xmlns="http://www.w3.org/1999/html">
    <label class="viewname">{{frm.srcName || 'Scene'}}</label>

    <span class="glyphicon glyphicon-search"
          ng-model="mode"
          ng-style="zoomStyle"
          ng-click="setMode('view'); brushStyle={'color':'gray'}; zoomStyle={'color': 'orange'};"
          style="margin-left:45%"></span>
    <span class="fa fa-paint-brush"
          ng-model="mode"
          ng-style="brushStyle"
          ng-click="setMode('selection'); brushStyle={'color': 'orange'}; zoomStyle={'color':'gray'}; "></span>
    <span class="glyphicon glyphicon-repeat"
          ng-click="resetView()">
           </span>

    <div id="scene" class="img-with-label">
        <scene-frame class="stacked"  width="650" height="500" ng-style="imgStyle"></scene-frame>
        <heatview  class="stacked"
                   width="650"
                   height="500"
                   colormap="1"
                   domain='domain()'
                   points='points'
                   ng-show="showHeatmap"></heatview>
        <heatview  class="stacked"
                   width="650"
                   height="500"
                   colormap="0"
                   domain='domain()'
                   points='fixations'
                   ng-show='showFixations'>
        </heatview>
        <heatview  class="stacked"
                   width="650"
                   height="500"
                   colormap="2"
                   domain='domain()'
                   points='saccades'
                   ng-show="showSaccades"></heatview>
        <sp class="stacked" width="650" height="500" ng-style="spStyle"></sp>

        <alphapart class="stacked" width="650" height="500" ng-show="partition"></alphapart>
        <directedpath class="stacked scanpath" width="650" height="500" domain='domain()' data='scanPath' ng-show="showScanPath"></directedpath>
        <circularnodes class="stacked nodes" width="650" height="500" domain='domain()' data='scanPath' ng-show="showScanPath"></circularnodes>
        <textlabel class="stacked" width="650" height="500" domain='domain()' data='scanPath' ng-show="showScanPath"></textlabel>
        <focusmap></focusmap>
        <brush id="sp" class="stacked" width="650" height="500" ng-show="showTracking"></brush>
        <zoom id="scene-zoom" class="stacked" width="650" height="500" ng-show="mode==='view'"></zoom>
    </div>

    <div class="scene-info">
        <div ng-show="frm.img.src">
            <div class="controlgrp">
                <div class='grp-0'>
                    <div>
                    <input type="checkbox" ng-model="showTracking" ng-click="imgStyle={'opacity':showTracking ? 1 : 0.5}"> tracking</input>
                    <input type="checkbox" ng-model="showHeatmap"> heatmap</input>
                    <input type="checkbox" ng-model="showFixations" ng-change="fixationVisibility()"> fixations</input>
                    <input type="checkbox" ng-model="showSaccades" ng-change="saccadeVisibility()"> saccades</input>
                     <input type="checkbox" ng-model="showScanPath"> path</input>
                     </div>

                    <!--<div style="display:inline-block"><label>threshold</label></div>-->
                    <div class="slider">
                    <label class="numinput">min:</label><input type="number"  value="{{velocity.min}}" ng-model="velocity.min">
                    <label class="numinput">step:</label><input type="number" value="{{velocity.step}}" ng-model="velocity.step">
                    <label class="numinput">max:</label><input type="number"  value="{{velocity.max}}" ng-model="velocity.max">

                    <input type="range"
                           min="{{velocity.min}}"
                           step="{{velocity.step}}"
                           max="{{velocity.max}}"
                           value="{{velocity.threshold}}"
                           ng-model="velocity.threshold"
                           ng-change="classify()"/>
                        <label class="center">{{velocity.threshold}}</label>
                    </div>
                </div>

                <div class="grp-1">
                    <div>
                        <label>circle size</label><input type="range" min="0" step="0.25" max="50"
                                                         ng-model="sp.markerSize"
                                                         ng-init="s.markerSize=7"/>
                        <label>circle opacity</label>
                        <input type="range"  min="0" step="0.05" max="1.0"
                               ng-model="spOpacity"
                               ng-init="spOpacity=1.0"
                               ng-change="spStyle={'opacity':spOpacity}"/>
                    </div>

                    <div>
                        <label>scene opacity</label>
                        <input type="range" min="0" step="0.05" max="1.0"
                               ng-model="imgOpacity"
                               ng-init="imgOpacity=0.5"
                               ng-change="imgStyle={'opacity':imgOpacity}"/>
                        <label>scene blur</label>
                        <input type="range"  min="0" step="0.25" max="10"
                               ng-model="spBlur" ng-init="spBlur=0"
                               ng-change="imgStyle={'filter':'blur('+spBlur+')', '-webkit-filter': 'blur('+spBlur+'px)'}"/>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
